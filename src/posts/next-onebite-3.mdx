---
title: [강의요약] 한 입 크기로 잘라먹는 Next.js(v15) - 3 (섹션 4. App Router 시작하기)
categories: AZA,Next
draftAt: 2025-08-04
status: draft
---

# 페이지 라우팅

/app/page.tsx
/app/search/page.tsx
/app/book/[id]/page.tsx

/app/search/page.tsx
query string은 페이지 라우팅에 영향을 주지 않늗ㄴ다
page component의 props로 전달됨
type = Promise<{ q: string }>
async await로 page 컴포넌트가 구성됨
서버 컴포넌트이기 때문에 비동기적으로 컴포넌트 펑션이 구성되어도 된다

/app/book/[id]/page.tsx
url parameter르ㅡㄹ 포함하는 동적ㄱ 경로
Promise<{id: string}>
async await 로 비동기로 가져옴

1/1로 접근하면 404
중첩 가능하게 하고 싶으면 [...id] 캐치 올 세그먼트로 만들면 됨

url파라미터가 없는 경우도 포함하고 싶으면
옵셔널 캐치 올 세그먼트로 만드렴ㄴ돔 [[...id]]

# 레이아웃 설정

layout.tsx
하위 경로의 레이아웃까지 적용됨
하위 경로에 만들면 중첩되어 적용됨

루트 레이아웃은 꼭 있어야함
실수로 지워도 넥스트가 자동으로 만들어줌

children을 props로 받아서 뿌려야 page.tsx에 있는것들이 보여짐

경로와 관계없이 같은 레이아웃을 적용하고 싶으면
라우트 그룹
폴더의 이름을 소괄호로 묶으면됨
경로상에 아무런 영향을 미치지 않는, 동시에 각기 다른 경로에 있는 애들을 레이아웃만 동일하게 적용할때
라우트그룹의 레이아웃이 라우트그룹에 속해있는 모든 페이지 파일에 적용됨

# 리액트 서버 컴포넌트

서버 측에서만 실행되는 컴포넌트. 브라우저에서 실행하지 않음
상호작용이 없는 하이드레이션이 필요없는 정적인 컴포넌트드롷ㅇ=서버 컴포넌트, 그 반대가 클라잉언트 컴포넌트
서버컴포는 1번만 실행되고 클라컴포는 2번 실행됨
대부분을 서버 컴포넌트로 구성하고 필요한 경우에만 클라 컴포넌트로 사용할것

앱 라우터는 기본적으로 서버컴포넌트임
그래서 콘솔로그 찍으면 브라우저에 노출되지 않고 터미널에 노출됨. 서버 컴포넌트ㅡㄴ 브라우저에서 실행되지 않기 때문

리액트 훅은 클라 컴포넌트에서만 실행된다 호출하고 싶으면 컴포넌트를 클라 컴포넌트로 설정해야하는데
어덯게 하냐면 파일 상단에 'use client'; 를 기재하면 됨
터미널에서 콘솔 찍히고 그다음에 브라우저에도 콘솔 찍힌다 두번 실행되기 때문

1. 서버 컴포넌트에는 브라우저에서 실행될 코드가 포함되면 안된다
2. 클라이언트 컴포넌트는 클라이언트에서만 실행되지 않는다
3. 클라이언트 컴포넌트에서 서버 컴포넌트를 import 할수없다 - 실수로 import 하더라도 넥스트가 서버컴포를 클라컴포로 변환하여 렌더링한다, import 해야한다면 하지말고 children으로 받아서 뿌리자
4. 서버 컴포넌트에서 클라 컴포넌트에게 직렬화되지 않는 프롭스는 전달 불가하다 - 함수는 직렬 불가함

# 네비게이팅

```
import { useRouter } from 'next/navigation';

...

router.push('q=sdf');
```

Static : 기본적으로 정적 페이지로 설정됨, RSC, JS pre fetching
Dynamic : url params, query string에 따라 달라지는 페이지는 동적으로 설정됨, RSC pre fetching

# 강의링크

[한 입 크기로 잘라먹는 Next.js(v15), 이정환, 인프런](https://www.inflearn.com/course/%ED%95%9C%EC%9E%85-%ED%81%AC%EA%B8%B0-nextjs/dashboard)
